- 작성일: 2023-07-19
- 태그: 
- 분류
    - [23.07 TIL Index](23.07%20TIL%20Index.md)
- 관련 노트

---


파라미터 생성 시 기본 생성자 사라짐

this 는 객체를 참조함

- 따라서  static 에서는 사용 불가능

this()
- 첫 줄에서만 호출 가능하다

초기화 블럭

- 멤버 변수 초기화 위해 사용
- 인스턴스 초기화 블럭은 생성자 이전에 실행 됨
	- 부모 생성자 이후 실행

---

상속

- 상속 받지 않는 것
	- 초기화 블럭
	- 생성자 

장점

- 유지 보수성 향상
	- 부모 코드를 바꾸면 자식에도 적용

기본적으로 모든 객체는 Object 객체를 상속받음

상속은 is a 관계

- 학생은 사람

자바는 단일 상속만 지원

- 이를 극복하기 위한 방법
	- has a
	- 인터페이스

super()

- 명시하지 않을 경우 생성자의 맨 윗줄 자동 삽입
- 맨 윗줄에서만 호출 가능
- 부모 타입 기본 생성자가 없다면 자동 삽입 불가

this() 와 super() 는 같이 호출 불가능

---

final

인스턴스 변수

- 기본 값이 없어도 됨
	- blank final
	- 기본 값이 있다면 모든 객체가 같은 값을 가지므로
- 생성자 혹은 생성자 블록에서 초기화 기회가 주어짐

클래스변수

- 기본 값 없어도 됨
	- blank final
- static 초기화 블록에서 초기화 기회가 주어짐

객체

- 속성은 바꿀 수 있음
- 하지만 다른 객체를 가리킬 수는 없음

메서드 인자

- 인자에 쓰일 수 있음

메서드

- 오버라이드 불가능gg
- 오버 로딩은 가능

클래스

- 상속 받을 수 없음

---

가비지 콜렉터는 언제 객체를 삭제할까?

- 힙이 다 찼을 때
	- new
		- eden
			- 메모리가 작아 빨리 참
			- s1, s2 (survivor) 로 정리하며 이동
		- s1, s2 사이의 우선순위는 없음
		- 다만 둘 중 하나의 영역이 차게 되면 old 로 이동할 뿐임
	- old
		- 결국 이 영역으로 쌓임
		- 메모리가 큼
		- 만약 찬다면 애플리케이션이 끊김
			- 너무 공간 크기 때문
- cpu가 한가하면
	- 가비지 콜렉터는 따로 스레드에서 돌아감
		- 우선순위가 존재
		- 가비지 콜렉터는 우선순위가 낮음
			- 일반적인 애플리케이션은 5
			- 2

다양한 청소 방법이 존재

---

다이나믹 로딩
- 객체 생성
- 클래스 변수 호출
- 리플렉션 등등

1. verify 가 이 시점에 발생한다
	- metaspace
2. static 변수 로딩 됨
	- 객체 만들기 전에 존재해야 하므로
3. 메인 함수를 찾음
4. 없다면 끝

---

자바의 class 파일은 기계어 코드가 아님

- 바이트 코드임
- JVM 이 이해할 수 있는 언어

자바는 객체 전송 가능

- 분산 컴퓨팅 가능
- serializable

---

- static 변수의 주소값은 metaspace 안의 method area 에 존재 하지만 값은 heap에 존재
- runtime constant pool 은 heap 에 존재
- String constant pool은 heap 에 존재한다.
- 클래스 변수 String 리터럴 의 주소값은 method area 에 존재
	- method area 에서 String constant pool 을 가리킴

- https://8iggy.tistory.com/230
- https://8iggy.tistory.com/229

---

자투리

- 생성자는 return 이 void 가 아니라, 없다.
- instance block 은 모든 생성자 이전에 실행할 것을 지정할 때 활용할 수 있음
- static block 은 데이터베이스 설정과 같이 한 번만 실행하는 로직에 활용될 수 있음
- 메서드 오버 로딩 시 인자에 맞춰 이름이 바뀌어 컴파일 된다.

```text
다형성은 두 가지로 나뉨

- 오브젝트
- 메서드
	- 오버로딩
	- 오버로드 
```

- this 는 메서드 호출 시 선언 됨. this 는 method 를 갖고있는 객체
- 생성자는 일반 함수에서 호출 불가능하다
- 상속은 부모를 먼저 만든다. 따라서 지나친 상속은 오버헤드가 존재한다.
- 다중 상속은 이름 중복의 문제, 부모의 공통 조상 등등의 문제가 존재
- 기본 패키지 java.lang
- default 접근 제한자는 파일 이동 시 에러가 발생할 수 있는 모호성 존재
- private 속성은 상속은 되지만 접근은 불가능함
    - 헷갈릴 수 있음

---
