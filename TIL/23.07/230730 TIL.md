- 작성일: 2023-07-30
- 태그: 
- 분류
    - [23.07 TIL Index](23.07%20TIL%20Index.md)
- 관련 노트

---

스레드

- 브라우저에 적용하여 효율
- 자원을 공유하니 효율적
- 스위칭 비용 적다
    - 캐시 클리어 같은 것을 안 해도 되니

구현 방법은 2가지

- 커널 스레드
- 유저 스레드

프로세스의 생성

- 부모는 자식을 만든다.
    - 주소공간 전체 복사
- 부모와 자식의 자원의 공유는 상황에 따라 다르다
- 이후 두 가지 행동 중 하나
    - 기다리거나
        - wait
    - 공존하거나
- fork
    - data 에 pid 가 다르게 담길 것임
- exec

프로세스의 종료

- 종료 시 자식이 부모에게 알림
- 부모가 자식 죽일수도
- 부모 종료 시 자식부터 없어야
- 자발적 종료
    - exit() 시스템 콜
    - 명시하지 않아도 컴파일러가 넣어줌
- 비 자발적 종료
    - 사용자가 종료
    - 부모가 종료 등

copy - on - write

- 필요 시(write 발생 시) 필요한 부분만 복사

fork 시 자식은 0 을 return 받는 이유

- 혼동을 줄이기 위해
    - 0이 pid 가 될 순 없으므로 자녀는 0이 부모라고 생각하지 않는다.


프로세스 간 협력

- 독립적 프로세스
    - 프로세스 끼리 영향을 끼치지 못 함
- 협력 프로세스
    - 어떤 프로세스가 다른 프로세스의 수행에 영향을 미칠 수 있음

협력 방법에는 2가지가 있다 (IPC)

- 메시지 전달
    - 커널을 통해 전달
    - message passing
- 주소 공간 공유
    - 커널에 shared 한다고 요청해야 함
        - 이후에는 커널 상관없이 작업
    - shared memory


메세지 전달도 2가지 있음

- direct 커뮤니케이션
    - 이름 표시
- indirect 커뮤니케이션
    - mail box 에 넣어둠
    - 아무나

주소 공간 공유

- 주소 공간을 매핑할 때 일부 겹치게 만든다
- 프로세스는 아니지만 thread 도 협력이 가능

프로그램 실행

- CPU burst
    - cpu 를 사용하는 시간
- IO burst 
    - io 작업을 기다리는 시간

어느 burst 를 많이 하냐에 따라 2가지로 분류할 수 있음

- IO bound job
- CPU bound job

cpu 스케줄러

- 하드웨어일까 프로그램일까
    - 운영체제 안의 코드임

Dispatcher

- 현재 context 저장하고 다음 context 를 불러와 제어권을 다음 프로세스에게 넘겨준다.


스케줄링은 2 가지

- non preemptive
    - 자진 반납
        - e.g.
            - IO 기다리기
            - 프로세스 종료
- preemptive
    - 강제 집행
    - 나머지 전부


---

# Reference

-  [이화여자대학교 :: CORE Campus (ewha.ac.kr)](https://core.ewha.ac.kr/publicview/C0101020140321144554159683?vmode=f)